<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>QUndoCommand &mdash; PySide 1.2.1 documentation</title>
    
    <link rel="stylesheet" href="../../_static/pysidedocs.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '1.2.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <link rel="top" title="PySide 1.2.1 documentation" href="../../index.html" />
    <link rel="up" title="PySide.QtGui" href="index.html" />
    <link rel="next" title="QDesktopServices" href="QDesktopServices.html" />
    <link rel="prev" title="QMatrix2x2" href="QMatrix2x2.html" /> 
  </head>
  <body>
<div id="container">
<div class="header">
    <div class="header_container">
        <div class="logo"><a href="http://www.pyside.org"><img alt="PySide" src="../../_static/pysidelogo.png" width="199" height="102" /></a></div>
        <div class="related">
            <ul>
                <li><a href="../../index.html">PySide 1.2.1 documentation</a></li>
                <li> &raquo; <a href="../../modules.html" >PySide modules</a></li>
                <li> &raquo; <a href="index.html" accesskey="U">PySide.QtGui</a></li> 
            </ul>
        </div>
    </div>
</div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../../contents.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">QUndoCommand</a><ul>
<li><a class="reference internal" href="#synopsis">Synopsis</a><ul>
<li><a class="reference internal" href="#functions">Functions</a></li>
<li><a class="reference internal" href="#virtual-functions">Virtual functions</a></li>
</ul>
</li>
<li><a class="reference internal" href="#detailed-description">Detailed Description</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="QMatrix2x2.html"
                        title="previous chapter">QMatrix2x2</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="QDesktopServices.html"
                        title="next chapter">QDesktopServices</a></p>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" id="q" size="18" />
      <input type="submit" value="Go" id="search_button" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <span class="target" id="module-PySide.QtGui"></span><div class="section" id="qundocommand">
<span id="id1"></span><h1>QUndoCommand<a class="headerlink" href="#qundocommand" title="Permalink to this headline">¶</a></h1>
<div class="section" id="synopsis">
<h2>Synopsis<a class="headerlink" href="#synopsis" title="Permalink to this headline">¶</a></h2>
<div class="section" id="functions">
<h3>Functions<a class="headerlink" href="#functions" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>def <a class="reference internal" href="#PySide.QtGui.PySide.QtGui.QUndoCommand.actionText" title="PySide.QtGui.PySide.QtGui.QUndoCommand.actionText"><tt class="xref py py-meth docutils literal"><span class="pre">actionText</span></tt></a> ()</li>
<li>def <a class="reference internal" href="#PySide.QtGui.PySide.QtGui.QUndoCommand.child" title="PySide.QtGui.PySide.QtGui.QUndoCommand.child"><tt class="xref py py-meth docutils literal"><span class="pre">child</span></tt></a> (index)</li>
<li>def <a class="reference internal" href="#PySide.QtGui.PySide.QtGui.QUndoCommand.childCount" title="PySide.QtGui.PySide.QtGui.QUndoCommand.childCount"><tt class="xref py py-meth docutils literal"><span class="pre">childCount</span></tt></a> ()</li>
<li>def <a class="reference internal" href="#PySide.QtGui.PySide.QtGui.QUndoCommand.setText" title="PySide.QtGui.PySide.QtGui.QUndoCommand.setText"><tt class="xref py py-meth docutils literal"><span class="pre">setText</span></tt></a> (text)</li>
<li>def <a class="reference internal" href="#PySide.QtGui.PySide.QtGui.QUndoCommand.text" title="PySide.QtGui.PySide.QtGui.QUndoCommand.text"><tt class="xref py py-meth docutils literal"><span class="pre">text</span></tt></a> ()</li>
</ul>
</div>
<div class="section" id="virtual-functions">
<h3>Virtual functions<a class="headerlink" href="#virtual-functions" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>def <a class="reference internal" href="#PySide.QtGui.PySide.QtGui.QUndoCommand.id" title="PySide.QtGui.PySide.QtGui.QUndoCommand.id"><tt class="xref py py-meth docutils literal"><span class="pre">id</span></tt></a> ()</li>
<li>def <a class="reference internal" href="#PySide.QtGui.PySide.QtGui.QUndoCommand.mergeWith" title="PySide.QtGui.PySide.QtGui.QUndoCommand.mergeWith"><tt class="xref py py-meth docutils literal"><span class="pre">mergeWith</span></tt></a> (other)</li>
<li>def <a class="reference internal" href="#PySide.QtGui.PySide.QtGui.QUndoCommand.redo" title="PySide.QtGui.PySide.QtGui.QUndoCommand.redo"><tt class="xref py py-meth docutils literal"><span class="pre">redo</span></tt></a> ()</li>
<li>def <a class="reference internal" href="#PySide.QtGui.PySide.QtGui.QUndoCommand.undo" title="PySide.QtGui.PySide.QtGui.QUndoCommand.undo"><tt class="xref py py-meth docutils literal"><span class="pre">undo</span></tt></a> ()</li>
</ul>
</div>
</div>
<div class="section" id="detailed-description">
<h2>Detailed Description<a class="headerlink" href="#detailed-description" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p>The <a class="reference internal" href="#PySide.QtGui.QUndoCommand" title="PySide.QtGui.QUndoCommand"><tt class="xref py py-class docutils literal"><span class="pre">PySide.QtGui.QUndoCommand</span></tt></a> class is the base class of all commands stored on a <a class="reference internal" href="QUndoStack.html#PySide.QtGui.QUndoStack" title="PySide.QtGui.QUndoStack"><tt class="xref py py-class docutils literal"><span class="pre">PySide.QtGui.QUndoStack</span></tt></a> .</p>
<p>For an overview of Qt&#8217;s Undo Framework, see the <em class="xref std std-ref">overview document</em> .</p>
<p>A <a class="reference internal" href="#PySide.QtGui.QUndoCommand" title="PySide.QtGui.QUndoCommand"><tt class="xref py py-class docutils literal"><span class="pre">PySide.QtGui.QUndoCommand</span></tt></a> represents a single editing action on a document; for example, inserting or deleting a block of text in a text editor. <a class="reference internal" href="#PySide.QtGui.QUndoCommand" title="PySide.QtGui.QUndoCommand"><tt class="xref py py-class docutils literal"><span class="pre">PySide.QtGui.QUndoCommand</span></tt></a> can apply a change to the document with <a class="reference internal" href="#PySide.QtGui.PySide.QtGui.QUndoCommand.redo" title="PySide.QtGui.PySide.QtGui.QUndoCommand.redo"><tt class="xref py py-meth docutils literal"><span class="pre">PySide.QtGui.QUndoCommand.redo()</span></tt></a> and undo the change with <a class="reference internal" href="#PySide.QtGui.PySide.QtGui.QUndoCommand.undo" title="PySide.QtGui.PySide.QtGui.QUndoCommand.undo"><tt class="xref py py-meth docutils literal"><span class="pre">PySide.QtGui.QUndoCommand.undo()</span></tt></a> . The implementations for these functions must be provided in a derived class.</p>
<div class="highlight-python"><pre>class AppendText(QUndoCommand):
    self.m_document = ''
    self.m_text = ''

    def AppendText(self, doc, text):
        self.m_document = doc
        self.m_text = text
        self.setText("append text")

    def undo(self):
        self.m_document.chop(self.m_text.length())

    def redo(self):
        self.m_document-&gt;append(self.m_text)</pre>
</div>
<p>A <a class="reference internal" href="#PySide.QtGui.QUndoCommand" title="PySide.QtGui.QUndoCommand"><tt class="xref py py-class docutils literal"><span class="pre">PySide.QtGui.QUndoCommand</span></tt></a> has an associated <a class="reference internal" href="#PySide.QtGui.PySide.QtGui.QUndoCommand.text" title="PySide.QtGui.PySide.QtGui.QUndoCommand.text"><tt class="xref py py-meth docutils literal"><span class="pre">PySide.QtGui.QUndoCommand.text()</span></tt></a> . This is a short string describing what the command does. It is used to update the text properties of the stack&#8217;s undo and redo actions; see <a class="reference internal" href="QUndoStack.html#PySide.QtGui.PySide.QtGui.QUndoStack.createUndoAction" title="PySide.QtGui.PySide.QtGui.QUndoStack.createUndoAction"><tt class="xref py py-meth docutils literal"><span class="pre">QUndoStack.createUndoAction()</span></tt></a> and <a class="reference internal" href="QUndoStack.html#PySide.QtGui.PySide.QtGui.QUndoStack.createRedoAction" title="PySide.QtGui.PySide.QtGui.QUndoStack.createRedoAction"><tt class="xref py py-meth docutils literal"><span class="pre">QUndoStack.createRedoAction()</span></tt></a> .</p>
<p><a class="reference internal" href="#PySide.QtGui.QUndoCommand" title="PySide.QtGui.QUndoCommand"><tt class="xref py py-class docutils literal"><span class="pre">PySide.QtGui.QUndoCommand</span></tt></a> objects are owned by the stack they were pushed on. <a class="reference internal" href="QUndoStack.html#PySide.QtGui.QUndoStack" title="PySide.QtGui.QUndoStack"><tt class="xref py py-class docutils literal"><span class="pre">PySide.QtGui.QUndoStack</span></tt></a> deletes a command if it has been undone and a new command is pushed. For example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">command1</span> <span class="o">=</span> <span class="n">MyCommand</span><span class="p">()</span>
<span class="n">stack</span><span class="o">.</span><span class="n">push</span><span class="p">(</span><span class="n">command1</span><span class="p">)</span>
<span class="n">command2</span> <span class="o">=</span> <span class="n">MyCommand</span><span class="p">()</span>
<span class="n">stack</span><span class="o">.</span><span class="n">push</span><span class="p">(</span><span class="n">command2</span><span class="p">)</span>

<span class="n">stack</span><span class="o">.</span><span class="n">undo</span><span class="p">()</span>

<span class="n">command3</span> <span class="o">=</span> <span class="n">MyCommand</span><span class="p">()</span>
<span class="n">stack</span><span class="o">.</span><span class="n">push</span><span class="p">(</span><span class="n">command3</span><span class="p">)</span> <span class="c"># command2 gets deleted</span>
</pre></div>
</div>
<p>In effect, when a command is pushed, it becomes the top-most command on the stack.</p>
<p>To support command compression, <a class="reference internal" href="#PySide.QtGui.QUndoCommand" title="PySide.QtGui.QUndoCommand"><tt class="xref py py-class docutils literal"><span class="pre">PySide.QtGui.QUndoCommand</span></tt></a> has an <a class="reference internal" href="#PySide.QtGui.PySide.QtGui.QUndoCommand.id" title="PySide.QtGui.PySide.QtGui.QUndoCommand.id"><tt class="xref py py-meth docutils literal"><span class="pre">PySide.QtGui.QUndoCommand.id()</span></tt></a> and the virtual function <a class="reference internal" href="#PySide.QtGui.PySide.QtGui.QUndoCommand.mergeWith" title="PySide.QtGui.PySide.QtGui.QUndoCommand.mergeWith"><tt class="xref py py-meth docutils literal"><span class="pre">PySide.QtGui.QUndoCommand.mergeWith()</span></tt></a> . These functions are used by <a class="reference internal" href="QUndoStack.html#PySide.QtGui.PySide.QtGui.QUndoStack.push" title="PySide.QtGui.PySide.QtGui.QUndoStack.push"><tt class="xref py py-meth docutils literal"><span class="pre">QUndoStack.push()</span></tt></a> .</p>
<p>To support command macros, a <a class="reference internal" href="#PySide.QtGui.QUndoCommand" title="PySide.QtGui.QUndoCommand"><tt class="xref py py-class docutils literal"><span class="pre">PySide.QtGui.QUndoCommand</span></tt></a> object can have any number of child commands. Undoing or redoing the parent command will cause the child commands to be undone or redone. A command can be assigned to a parent explicitly in the constructor. In this case, the command will be owned by the parent.</p>
<p>The parent in this case is usually an empty command, in that it doesn&#8217;t provide its own implementation of <a class="reference internal" href="#PySide.QtGui.PySide.QtGui.QUndoCommand.undo" title="PySide.QtGui.PySide.QtGui.QUndoCommand.undo"><tt class="xref py py-meth docutils literal"><span class="pre">PySide.QtGui.QUndoCommand.undo()</span></tt></a> and <a class="reference internal" href="#PySide.QtGui.PySide.QtGui.QUndoCommand.redo" title="PySide.QtGui.PySide.QtGui.QUndoCommand.redo"><tt class="xref py py-meth docutils literal"><span class="pre">PySide.QtGui.QUndoCommand.redo()</span></tt></a> . Instead, it uses the base implementations of these functions, which simply call <a class="reference internal" href="#PySide.QtGui.PySide.QtGui.QUndoCommand.undo" title="PySide.QtGui.PySide.QtGui.QUndoCommand.undo"><tt class="xref py py-meth docutils literal"><span class="pre">PySide.QtGui.QUndoCommand.undo()</span></tt></a> or <a class="reference internal" href="#PySide.QtGui.PySide.QtGui.QUndoCommand.redo" title="PySide.QtGui.PySide.QtGui.QUndoCommand.redo"><tt class="xref py py-meth docutils literal"><span class="pre">PySide.QtGui.QUndoCommand.redo()</span></tt></a> on all its children. The parent should, however, have a meaningful <a class="reference internal" href="#PySide.QtGui.PySide.QtGui.QUndoCommand.text" title="PySide.QtGui.PySide.QtGui.QUndoCommand.text"><tt class="xref py py-meth docutils literal"><span class="pre">PySide.QtGui.QUndoCommand.text()</span></tt></a> .</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">insertRed</span> <span class="o">=</span> <span class="n">QUndoCommand</span><span class="p">()</span> <span class="c"># an empty command</span>
<span class="n">insertRed</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="s">&quot;insert red text&quot;</span><span class="p">)</span>

<span class="n">InsertText</span><span class="p">(</span><span class="n">document</span><span class="p">,</span> <span class="n">idx</span><span class="p">,</span> <span class="n">text</span><span class="p">,</span> <span class="n">insertRed</span><span class="p">)</span> <span class="c"># becomes child of insertRed</span>
<span class="n">SetColor</span><span class="p">(</span><span class="n">document</span><span class="p">,</span> <span class="n">idx</span><span class="p">,</span> <span class="n">text</span><span class="o">.</span><span class="n">length</span><span class="p">(),</span> <span class="n">Qt</span><span class="o">.</span><span class="n">red</span><span class="p">,</span> <span class="n">insertRed</span><span class="p">)</span>

<span class="n">stack</span><span class="o">.</span><span class="n">push</span><span class="p">(</span><span class="n">insertRed</span><span class="p">)</span>
</pre></div>
</div>
<p>Another way to create macros is to use the convenience functions <a class="reference internal" href="QUndoStack.html#PySide.QtGui.PySide.QtGui.QUndoStack.beginMacro" title="PySide.QtGui.PySide.QtGui.QUndoStack.beginMacro"><tt class="xref py py-meth docutils literal"><span class="pre">QUndoStack.beginMacro()</span></tt></a> and <a class="reference internal" href="QUndoStack.html#PySide.QtGui.PySide.QtGui.QUndoStack.endMacro" title="PySide.QtGui.PySide.QtGui.QUndoStack.endMacro"><tt class="xref py py-meth docutils literal"><span class="pre">QUndoStack.endMacro()</span></tt></a> .</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="QUndoStack.html#PySide.QtGui.QUndoStack" title="PySide.QtGui.QUndoStack"><tt class="xref py py-class docutils literal"><span class="pre">PySide.QtGui.QUndoStack</span></tt></a></p>
</div>
</div></blockquote>
<dl class="class">
<dt id="PySide.QtGui.QUndoCommand">
<em class="property">class </em><tt class="descclassname">PySide.QtGui.</tt><tt class="descname">QUndoCommand</tt><big>(</big><span class="optional">[</span><em>parent=None</em><span class="optional">]</span><big>)</big><a class="headerlink" href="#PySide.QtGui.QUndoCommand" title="Permalink to this definition">¶</a></dt>
<dt>
<em class="property">class </em><tt class="descclassname">PySide.QtGui.</tt><tt class="descname">QUndoCommand</tt><big>(</big><em>text</em><span class="optional">[</span>, <em>parent=None</em><span class="optional">]</span><big>)</big></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>parent</strong> &#8211; <a class="reference internal" href="#PySide.QtGui.QUndoCommand" title="PySide.QtGui.QUndoCommand"><tt class="xref py py-class docutils literal"><span class="pre">PySide.QtGui.QUndoCommand</span></tt></a></li>
<li><strong>text</strong> &#8211; unicode</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Constructs a <a class="reference internal" href="#PySide.QtGui.QUndoCommand" title="PySide.QtGui.QUndoCommand"><tt class="xref py py-class docutils literal"><span class="pre">PySide.QtGui.QUndoCommand</span></tt></a> object with parent <tt class="docutils literal"><span class="pre">parent</span></tt> .</p>
<p>If <tt class="docutils literal"><span class="pre">parent</span></tt> is not 0, this command is appended to parent&#8217;s child list. The parent command then owns this command and will delete it in its destructor.</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><tt class="xref py py-meth docutils literal"><span class="pre">~QUndoCommand()</span></tt></p>
</div>
<p>Constructs a <a class="reference internal" href="#PySide.QtGui.QUndoCommand" title="PySide.QtGui.QUndoCommand"><tt class="xref py py-class docutils literal"><span class="pre">PySide.QtGui.QUndoCommand</span></tt></a> object with the given <tt class="docutils literal"><span class="pre">parent</span></tt> and <tt class="docutils literal"><span class="pre">text</span></tt> .</p>
<p>If <tt class="docutils literal"><span class="pre">parent</span></tt> is not 0, this command is appended to parent&#8217;s child list. The parent command then owns this command and will delete it in its destructor.</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><tt class="xref py py-meth docutils literal"><span class="pre">~QUndoCommand()</span></tt></p>
</div>
</dd></dl>

<dl class="method">
<dt id="PySide.QtGui.PySide.QtGui.QUndoCommand.actionText">
<tt class="descclassname">PySide.QtGui.QUndoCommand.</tt><tt class="descname">actionText</tt><big>(</big><big>)</big><a class="headerlink" href="#PySide.QtGui.PySide.QtGui.QUndoCommand.actionText" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">unicode</td>
</tr>
</tbody>
</table>
<p>Returns a short text string describing what this command does; for example, &#8220;insert text&#8221;.</p>
<p>The text is used when the text properties of the stack&#8217;s undo and redo actions are updated.</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#PySide.QtGui.PySide.QtGui.QUndoCommand.text" title="PySide.QtGui.PySide.QtGui.QUndoCommand.text"><tt class="xref py py-meth docutils literal"><span class="pre">PySide.QtGui.QUndoCommand.text()</span></tt></a>  <a class="reference internal" href="#PySide.QtGui.PySide.QtGui.QUndoCommand.setText" title="PySide.QtGui.PySide.QtGui.QUndoCommand.setText"><tt class="xref py py-meth docutils literal"><span class="pre">PySide.QtGui.QUndoCommand.setText()</span></tt></a>  <a class="reference internal" href="QUndoStack.html#PySide.QtGui.PySide.QtGui.QUndoStack.createUndoAction" title="PySide.QtGui.PySide.QtGui.QUndoStack.createUndoAction"><tt class="xref py py-meth docutils literal"><span class="pre">QUndoStack.createUndoAction()</span></tt></a>  <a class="reference internal" href="QUndoStack.html#PySide.QtGui.PySide.QtGui.QUndoStack.createRedoAction" title="PySide.QtGui.PySide.QtGui.QUndoStack.createRedoAction"><tt class="xref py py-meth docutils literal"><span class="pre">QUndoStack.createRedoAction()</span></tt></a></p>
</div>
</dd></dl>

<dl class="method">
<dt id="PySide.QtGui.PySide.QtGui.QUndoCommand.child">
<tt class="descclassname">PySide.QtGui.QUndoCommand.</tt><tt class="descname">child</tt><big>(</big><em>index</em><big>)</big><a class="headerlink" href="#PySide.QtGui.PySide.QtGui.QUndoCommand.child" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>index</strong> &#8211; <tt class="xref py py-class docutils literal"><span class="pre">PySide.QtCore.int</span></tt></td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="#PySide.QtGui.QUndoCommand" title="PySide.QtGui.QUndoCommand"><tt class="xref py py-class docutils literal"><span class="pre">PySide.QtGui.QUndoCommand</span></tt></a></td>
</tr>
</tbody>
</table>
<p>Returns the child command at <tt class="docutils literal"><span class="pre">index</span></tt> .</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#PySide.QtGui.PySide.QtGui.QUndoCommand.childCount" title="PySide.QtGui.PySide.QtGui.QUndoCommand.childCount"><tt class="xref py py-meth docutils literal"><span class="pre">PySide.QtGui.QUndoCommand.childCount()</span></tt></a>  <a class="reference internal" href="QUndoStack.html#PySide.QtGui.PySide.QtGui.QUndoStack.command" title="PySide.QtGui.PySide.QtGui.QUndoStack.command"><tt class="xref py py-meth docutils literal"><span class="pre">QUndoStack.command()</span></tt></a></p>
</div>
</dd></dl>

<dl class="method">
<dt id="PySide.QtGui.PySide.QtGui.QUndoCommand.childCount">
<tt class="descclassname">PySide.QtGui.QUndoCommand.</tt><tt class="descname">childCount</tt><big>(</big><big>)</big><a class="headerlink" href="#PySide.QtGui.PySide.QtGui.QUndoCommand.childCount" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><tt class="xref py py-class docutils literal"><span class="pre">PySide.QtCore.int</span></tt></td>
</tr>
</tbody>
</table>
<p>Returns the number of child commands in this command.</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#PySide.QtGui.PySide.QtGui.QUndoCommand.child" title="PySide.QtGui.PySide.QtGui.QUndoCommand.child"><tt class="xref py py-meth docutils literal"><span class="pre">PySide.QtGui.QUndoCommand.child()</span></tt></a></p>
</div>
</dd></dl>

<dl class="method">
<dt id="PySide.QtGui.PySide.QtGui.QUndoCommand.id">
<tt class="descclassname">PySide.QtGui.QUndoCommand.</tt><tt class="descname">id</tt><big>(</big><big>)</big><a class="headerlink" href="#PySide.QtGui.PySide.QtGui.QUndoCommand.id" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><tt class="xref py py-class docutils literal"><span class="pre">PySide.QtCore.int</span></tt></td>
</tr>
</tbody>
</table>
<p>Returns the ID of this command.</p>
<p>A command ID is used in command compression. It must be an integer unique to this command&#8217;s class, or -1 if the command doesn&#8217;t support compression.</p>
<p>If the command supports compression this function must be overridden in the derived class to return the correct ID. The base implementation returns -1.</p>
<p><a class="reference internal" href="QUndoStack.html#PySide.QtGui.PySide.QtGui.QUndoStack.push" title="PySide.QtGui.PySide.QtGui.QUndoStack.push"><tt class="xref py py-meth docutils literal"><span class="pre">QUndoStack.push()</span></tt></a> will only try to merge two commands if they have the same ID, and the ID is not -1.</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#PySide.QtGui.PySide.QtGui.QUndoCommand.mergeWith" title="PySide.QtGui.PySide.QtGui.QUndoCommand.mergeWith"><tt class="xref py py-meth docutils literal"><span class="pre">PySide.QtGui.QUndoCommand.mergeWith()</span></tt></a>  <a class="reference internal" href="QUndoStack.html#PySide.QtGui.PySide.QtGui.QUndoStack.push" title="PySide.QtGui.PySide.QtGui.QUndoStack.push"><tt class="xref py py-meth docutils literal"><span class="pre">QUndoStack.push()</span></tt></a></p>
</div>
</dd></dl>

<dl class="method">
<dt id="PySide.QtGui.PySide.QtGui.QUndoCommand.mergeWith">
<tt class="descclassname">PySide.QtGui.QUndoCommand.</tt><tt class="descname">mergeWith</tt><big>(</big><em>other</em><big>)</big><a class="headerlink" href="#PySide.QtGui.PySide.QtGui.QUndoCommand.mergeWith" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>other</strong> &#8211; <a class="reference internal" href="#PySide.QtGui.QUndoCommand" title="PySide.QtGui.QUndoCommand"><tt class="xref py py-class docutils literal"><span class="pre">PySide.QtGui.QUndoCommand</span></tt></a></td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><tt class="xref py py-class docutils literal"><span class="pre">PySide.QtCore.bool</span></tt></td>
</tr>
</tbody>
</table>
<p>Attempts to merge this command with <tt class="docutils literal"><span class="pre">command</span></tt> . Returns true on success; otherwise returns false.</p>
<p>If this function returns true, calling this command&#8217;s <a class="reference internal" href="#PySide.QtGui.PySide.QtGui.QUndoCommand.redo" title="PySide.QtGui.PySide.QtGui.QUndoCommand.redo"><tt class="xref py py-meth docutils literal"><span class="pre">PySide.QtGui.QUndoCommand.redo()</span></tt></a> must have the same effect as redoing both this command and <tt class="docutils literal"><span class="pre">command</span></tt> . Similarly, calling this command&#8217;s <a class="reference internal" href="#PySide.QtGui.PySide.QtGui.QUndoCommand.undo" title="PySide.QtGui.PySide.QtGui.QUndoCommand.undo"><tt class="xref py py-meth docutils literal"><span class="pre">PySide.QtGui.QUndoCommand.undo()</span></tt></a> must have the same effect as undoing <tt class="docutils literal"><span class="pre">command</span></tt> and this command.</p>
<p><a class="reference internal" href="QUndoStack.html#PySide.QtGui.QUndoStack" title="PySide.QtGui.QUndoStack"><tt class="xref py py-class docutils literal"><span class="pre">PySide.QtGui.QUndoStack</span></tt></a> will only try to merge two commands if they have the same id, and the id is not -1.</p>
<p>The default implementation returns false.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">class</span> <span class="nc">AppendText</span><span class="p">(</span><span class="n">QUndoCommand</span><span class="p">):</span>
    <span class="o">...</span>
    <span class="k">def</span> <span class="nf">mergeWith</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">other</span><span class="o">.</span><span class="n">id</span><span class="p">()</span> <span class="o">!=</span> <span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="p">():</span> <span class="c"># make sure other is also an AppendText command</span>
            <span class="k">return</span> <span class="bp">False</span>
        <span class="n">m_text</span> <span class="o">+=</span> <span class="n">other</span><span class="o">.</span><span class="n">m_text</span>
        <span class="k">return</span> <span class="bp">True</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#PySide.QtGui.PySide.QtGui.QUndoCommand.id" title="PySide.QtGui.PySide.QtGui.QUndoCommand.id"><tt class="xref py py-meth docutils literal"><span class="pre">PySide.QtGui.QUndoCommand.id()</span></tt></a>  <a class="reference internal" href="QUndoStack.html#PySide.QtGui.PySide.QtGui.QUndoStack.push" title="PySide.QtGui.PySide.QtGui.QUndoStack.push"><tt class="xref py py-meth docutils literal"><span class="pre">QUndoStack.push()</span></tt></a></p>
</div>
</dd></dl>

<dl class="method">
<dt id="PySide.QtGui.PySide.QtGui.QUndoCommand.redo">
<tt class="descclassname">PySide.QtGui.QUndoCommand.</tt><tt class="descname">redo</tt><big>(</big><big>)</big><a class="headerlink" href="#PySide.QtGui.PySide.QtGui.QUndoCommand.redo" title="Permalink to this definition">¶</a></dt>
<dd><p>Applies a change to the document. This function must be implemented in the derived class. Calling <a class="reference internal" href="QUndoStack.html#PySide.QtGui.PySide.QtGui.QUndoStack.push" title="PySide.QtGui.PySide.QtGui.QUndoStack.push"><tt class="xref py py-meth docutils literal"><span class="pre">QUndoStack.push()</span></tt></a> , <a class="reference internal" href="QUndoStack.html#PySide.QtGui.PySide.QtGui.QUndoStack.undo" title="PySide.QtGui.PySide.QtGui.QUndoStack.undo"><tt class="xref py py-meth docutils literal"><span class="pre">QUndoStack.undo()</span></tt></a> or <a class="reference internal" href="QUndoStack.html#PySide.QtGui.PySide.QtGui.QUndoStack.redo" title="PySide.QtGui.PySide.QtGui.QUndoStack.redo"><tt class="xref py py-meth docutils literal"><span class="pre">QUndoStack.redo()</span></tt></a> from this function leads to undefined beahavior.</p>
<p>The default implementation calls <a class="reference internal" href="#PySide.QtGui.PySide.QtGui.QUndoCommand.redo" title="PySide.QtGui.PySide.QtGui.QUndoCommand.redo"><tt class="xref py py-meth docutils literal"><span class="pre">PySide.QtGui.QUndoCommand.redo()</span></tt></a> on all child commands.</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#PySide.QtGui.PySide.QtGui.QUndoCommand.undo" title="PySide.QtGui.PySide.QtGui.QUndoCommand.undo"><tt class="xref py py-meth docutils literal"><span class="pre">PySide.QtGui.QUndoCommand.undo()</span></tt></a></p>
</div>
</dd></dl>

<dl class="method">
<dt id="PySide.QtGui.PySide.QtGui.QUndoCommand.setText">
<tt class="descclassname">PySide.QtGui.QUndoCommand.</tt><tt class="descname">setText</tt><big>(</big><em>text</em><big>)</big><a class="headerlink" href="#PySide.QtGui.PySide.QtGui.QUndoCommand.setText" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>text</strong> &#8211; unicode</td>
</tr>
</tbody>
</table>
<p>Sets the command&#8217;s text to be the <tt class="docutils literal"><span class="pre">text</span></tt> specified.</p>
<p>The specified text should be a short user-readable string describing what this command does.</p>
<p>If you need to have two different strings for <a class="reference internal" href="#PySide.QtGui.PySide.QtGui.QUndoCommand.text" title="PySide.QtGui.PySide.QtGui.QUndoCommand.text"><tt class="xref py py-meth docutils literal"><span class="pre">PySide.QtGui.QUndoCommand.text()</span></tt></a> and <a class="reference internal" href="#PySide.QtGui.PySide.QtGui.QUndoCommand.actionText" title="PySide.QtGui.PySide.QtGui.QUndoCommand.actionText"><tt class="xref py py-meth docutils literal"><span class="pre">PySide.QtGui.QUndoCommand.actionText()</span></tt></a> , separate them with &#8220;n&#8221; and pass into this function. Even if you do not use this feature for English strings during development, you can still let translators use two different strings in order to match specific languages&#8217; needs. The described feature and the function <a class="reference internal" href="#PySide.QtGui.PySide.QtGui.QUndoCommand.actionText" title="PySide.QtGui.PySide.QtGui.QUndoCommand.actionText"><tt class="xref py py-meth docutils literal"><span class="pre">PySide.QtGui.QUndoCommand.actionText()</span></tt></a> are available since Qt 4.8.</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#PySide.QtGui.PySide.QtGui.QUndoCommand.text" title="PySide.QtGui.PySide.QtGui.QUndoCommand.text"><tt class="xref py py-meth docutils literal"><span class="pre">PySide.QtGui.QUndoCommand.text()</span></tt></a>  <a class="reference internal" href="#PySide.QtGui.PySide.QtGui.QUndoCommand.actionText" title="PySide.QtGui.PySide.QtGui.QUndoCommand.actionText"><tt class="xref py py-meth docutils literal"><span class="pre">PySide.QtGui.QUndoCommand.actionText()</span></tt></a>  <a class="reference internal" href="QUndoStack.html#PySide.QtGui.PySide.QtGui.QUndoStack.createUndoAction" title="PySide.QtGui.PySide.QtGui.QUndoStack.createUndoAction"><tt class="xref py py-meth docutils literal"><span class="pre">QUndoStack.createUndoAction()</span></tt></a>  <a class="reference internal" href="QUndoStack.html#PySide.QtGui.PySide.QtGui.QUndoStack.createRedoAction" title="PySide.QtGui.PySide.QtGui.QUndoStack.createRedoAction"><tt class="xref py py-meth docutils literal"><span class="pre">QUndoStack.createRedoAction()</span></tt></a></p>
</div>
</dd></dl>

<dl class="method">
<dt id="PySide.QtGui.PySide.QtGui.QUndoCommand.text">
<tt class="descclassname">PySide.QtGui.QUndoCommand.</tt><tt class="descname">text</tt><big>(</big><big>)</big><a class="headerlink" href="#PySide.QtGui.PySide.QtGui.QUndoCommand.text" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">unicode</td>
</tr>
</tbody>
</table>
<p>Returns a short text string describing what this command does; for example, &#8220;insert text&#8221;.</p>
<p>The text is used for names of items in <a class="reference internal" href="QUndoView.html#PySide.QtGui.QUndoView" title="PySide.QtGui.QUndoView"><tt class="xref py py-class docutils literal"><span class="pre">PySide.QtGui.QUndoView</span></tt></a> .</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#PySide.QtGui.PySide.QtGui.QUndoCommand.actionText" title="PySide.QtGui.PySide.QtGui.QUndoCommand.actionText"><tt class="xref py py-meth docutils literal"><span class="pre">PySide.QtGui.QUndoCommand.actionText()</span></tt></a>  <a class="reference internal" href="#PySide.QtGui.PySide.QtGui.QUndoCommand.setText" title="PySide.QtGui.PySide.QtGui.QUndoCommand.setText"><tt class="xref py py-meth docutils literal"><span class="pre">PySide.QtGui.QUndoCommand.setText()</span></tt></a>  <a class="reference internal" href="QUndoStack.html#PySide.QtGui.PySide.QtGui.QUndoStack.createUndoAction" title="PySide.QtGui.PySide.QtGui.QUndoStack.createUndoAction"><tt class="xref py py-meth docutils literal"><span class="pre">QUndoStack.createUndoAction()</span></tt></a>  <a class="reference internal" href="QUndoStack.html#PySide.QtGui.PySide.QtGui.QUndoStack.createRedoAction" title="PySide.QtGui.PySide.QtGui.QUndoStack.createRedoAction"><tt class="xref py py-meth docutils literal"><span class="pre">QUndoStack.createRedoAction()</span></tt></a></p>
</div>
</dd></dl>

<dl class="method">
<dt id="PySide.QtGui.PySide.QtGui.QUndoCommand.undo">
<tt class="descclassname">PySide.QtGui.QUndoCommand.</tt><tt class="descname">undo</tt><big>(</big><big>)</big><a class="headerlink" href="#PySide.QtGui.PySide.QtGui.QUndoCommand.undo" title="Permalink to this definition">¶</a></dt>
<dd><p>Reverts a change to the document. After <a class="reference internal" href="#PySide.QtGui.PySide.QtGui.QUndoCommand.undo" title="PySide.QtGui.PySide.QtGui.QUndoCommand.undo"><tt class="xref py py-meth docutils literal"><span class="pre">PySide.QtGui.QUndoCommand.undo()</span></tt></a> is called, the state of the document should be the same as before <a class="reference internal" href="#PySide.QtGui.PySide.QtGui.QUndoCommand.redo" title="PySide.QtGui.PySide.QtGui.QUndoCommand.redo"><tt class="xref py py-meth docutils literal"><span class="pre">PySide.QtGui.QUndoCommand.redo()</span></tt></a> was called. This function must be implemented in the derived class. Calling <a class="reference internal" href="QUndoStack.html#PySide.QtGui.PySide.QtGui.QUndoStack.push" title="PySide.QtGui.PySide.QtGui.QUndoStack.push"><tt class="xref py py-meth docutils literal"><span class="pre">QUndoStack.push()</span></tt></a> , <a class="reference internal" href="QUndoStack.html#PySide.QtGui.PySide.QtGui.QUndoStack.undo" title="PySide.QtGui.PySide.QtGui.QUndoStack.undo"><tt class="xref py py-meth docutils literal"><span class="pre">QUndoStack.undo()</span></tt></a> or <a class="reference internal" href="QUndoStack.html#PySide.QtGui.PySide.QtGui.QUndoStack.redo" title="PySide.QtGui.PySide.QtGui.QUndoStack.redo"><tt class="xref py py-meth docutils literal"><span class="pre">QUndoStack.redo()</span></tt></a> from this function leads to undefined beahavior.</p>
<p>The default implementation calls <a class="reference internal" href="#PySide.QtGui.PySide.QtGui.QUndoCommand.undo" title="PySide.QtGui.PySide.QtGui.QUndoCommand.undo"><tt class="xref py py-meth docutils literal"><span class="pre">PySide.QtGui.QUndoCommand.undo()</span></tt></a> on all child commands in reverse order.</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#PySide.QtGui.PySide.QtGui.QUndoCommand.redo" title="PySide.QtGui.PySide.QtGui.QUndoCommand.redo"><tt class="xref py py-meth docutils literal"><span class="pre">PySide.QtGui.QUndoCommand.redo()</span></tt></a></p>
</div>
</dd></dl>

</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
    <a href="http://www.indt.org.br"><img src="../../_static/logo_indt.jpg" alt="Indt" border="0" /></a>
    <a href="http://www.openbossa.org"><img src="../../_static/logo_openbossa.png" alt="Openbossa" border="0" /></a>
    <a href="http://qt.nokia.com/"><img src="../../_static/logo_qt.png" alt="Qt" border="0" /></a>
    <a href="http://www.python.org"><img src="../../_static/logo_python.jpg" alt="Python" border="0" /></a>
    </div>
</div>
  </body>
</html>